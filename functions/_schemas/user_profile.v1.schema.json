{
  "$schema": "https://json-schema.org/draft/2020-12/schema",
  "$id": "https://hi-stranger.dev/schemas/user_profile.v1.schema.json",
  "title": "Hi Stranger User Profile (v1)",
  "type": "object",
  "additionalProperties": false,
  "required": [
    "schema_version",
    "profile_id",
    "created_at",
    "profile"
  ],
  "properties": {
    "schema_version": {
      "const": "user_profile.v1"
    },
    "generator_version": {
      "type": "string"
    },
    "profile_id": {
      "type": "string",
      "pattern": "^usr_[a-z0-9]{6,}$"
    },
    "created_at": {
      "type": "string",
      "format": "date-time"
    },
    "profile": {
      "type": "object",
      "additionalProperties": false,
      "required": [
        "identity",
        "intent",
        "behavior",
        "emotional",
        "interests"
      ],
      "properties": {
        "identity": {
          "type": "object",
          "additionalProperties": false,
          "required": [
            "user_name",
            "gender",
            "birthday",
            "age"
          ],
          "properties": {
            "user_name": {
              "type": "string",
              "minLength": 1
            },
            "gender": {
              "type": "string",
              "enum": [
                "m",
                "f",
                "nonbinary",
                "prefer_not_to_say"
              ]
            },
            "birthday": {
              "type": "string",
              "format": "date"
            },
            "age": {
              "type": "integer",
              "minimum": 13
            },
            "avatar_picture": {
              "type": [
                "string",
                "null"
              ],
              "format": "uri"
            }
          }
        },
        "intent": {
          "type": "object",
          "additionalProperties": false,
          "required": [
            "expectations",
            "conversation_goals",
            "values_and_beliefs"
          ],
          "properties": {
            "expectations": {
              "type": "array",
              "minItems": 1,
              "items": {
                "type": "string",
                "enum": [
                  "deep_connection",
                  "meaningful_conversations",
                  "personal_growth",
                  "mainly_fun",
                  "professional_mentorship",
                  "advice",
                  "create_community",
                  "just_checking"
                ]
              }
            },
            "biography": {
              "type": "string",
              "maxLength": 800
            },
            "conversation_goals": {
              "type": "array",
              "minItems": 1,
              "items": {
                "type": "string",
                "enum": [
                  "deepen_understanding",
                  "explore_new_perspectives",
                  "build_empathy",
                  "practice_language",
                  "gain_advice",
                  "develop_self_awareness",
                  "enjoy_casual_talk"
                ]
              }
            },
            "values_and_beliefs": {
              "type": "array",
              "minItems": 1,
              "items": {
                "type": "string",
                "enum": [
                  "loyalty_trust",
                  "honest_open_comm",
                  "humor_playfulness",
                  "intellectual_stimulation",
                  "cultural_curiosity",
                  "personal_growth_ambition",
                  "spontaneity_adventure"
                ]
              }
            },
            "topics_to_avoid": {
              "type": "array",
              "items": {
                "type": "string",
                "enum": [
                  "politics",
                  "religion",
                  "polarizing",
                  "toxic_behavior",
                  "conspiracy",
                  "unverified_health"
                ]
              }
            }
          }
        },
        "behavior": {
          "type": "object",
          "additionalProperties": false,
          "required": [
            "social_energy",
            "communication_style",
            "conflict_response",
            "support_style",
            "assertiveness_level",
            "decision_style"
          ],
          "properties": {
            "social_energy": {
              "type": "array",
              "minItems": 1,
              "items": {
                "type": "string",
                "enum": [
                  "social_events_new_people",
                  "small_close_group",
                  "solitary_creative_work",
                  "lead_conversations",
                  "prefer_listening_value_add",
                  "overwhelmed_large_pref_1to1"
                ]
              }
            },
            "communication_style": {
              "type": "array",
              "minItems": 1,
              "items": {
                "type": "string",
                "enum": [
                  "open_direct",
                  "more_structured",
                  "casual_quick",
                  "selective_engagement"
                ]
              }
            },
            "conflict_response": {
              "type": "string",
              "enum": [
                "direct_resolution",
                "reflective_delayed",
                "avoidant"
              ]
            },
            "support_style": {
              "type": "string",
              "enum": [
                "practical_problem_solving",
                "empathetic_listening",
                "humor_distraction"
              ]
            },
            "assertiveness_level": {
              "type": "integer",
              "minimum": 1,
              "maximum": 5
            },
            "decision_style": {
              "type": "string",
              "enum": [
                "structured",
                "adaptive",
                "impulsive"
              ]
            }
          }
        },
        "emotional": {
          "type": "object",
          "additionalProperties": false,
          "required": [
            "emotional_needs",
            "maintenance_style",
            "emotional_regulation",
            "empathy_depth",
            "stress_tolerance"
          ],
          "properties": {
            "emotional_needs": {
              "type": "array",
              "minItems": 1,
              "items": {
                "type": "string",
                "enum": [
                  "availability_trust",
                  "shared_interests_experiences",
                  "consistency_reliability"
                ]
              }
            },
            "maintenance_style": {
              "type": "array",
              "minItems": 1,
              "items": {
                "type": "string",
                "enum": [
                  "regular_deep_checkins",
                  "spontaneous_connection",
                  "intermittent_but_reliable"
                ]
              }
            },
            "emotional_regulation": {
              "type": "string",
              "enum": [
                "calm",
                "sensitive",
                "volatile"
              ]
            },
            "empathy_depth": {
              "type": "integer",
              "minimum": 1,
              "maximum": 5
            },
            "stress_tolerance": {
              "type": "integer",
              "minimum": 1,
              "maximum": 5
            }
          }
        },
        "interests": {
          "type": "object",
          "additionalProperties": false,
          "required": [
            "shared_lifestyle_type",
            "interests"
          ],
          "properties": {
            "shared_lifestyle_type": {
              "type": "array",
              "minItems": 1,
              "items": {
                "type": "string",
                "enum": [
                  "creative_intellectual",
                  "adventurous_exploratory",
                  "relaxed_playful"
                ]
              }
            },
            "interests": {
              "type": "array",
              "minItems": 1,
              "items": {
                "type": "string",
                "minLength": 1
              }
            }
          }
        }
      }
    }
  }
}